1.Bezier曲线转多项式曲线
$$
公式推导：
Bezier曲线方程C(t)=\sum_{i=0}^{n}P_iB_{i,n}(t)，其中P_i为第i个控制顶点坐标。\\
多项式曲线方程D(t)=\sum_{j=0}^{n}Q_jt^j，其中Q_j为第j次项系数。\\
Bernstein基函数B_{i, n}(t)=\frac{n!}{i!(n-i)!}t^i(1-t)^{n-i}\\
设其第j项系数为B_{i,n,j},根据二项式定理，
B_{i,n,j}=\left\{
\begin{array}{}
0 & {j < i}\\
(-1)^{j-i}\frac{n!}{i!(n-i)!}\dbinom{n-i}{j-i}&{j \geq i}
\end{array} \right.\\
回到多项式曲线方程，有第j次项系数Q_j=\sum_{i=0}^{n}P_iB_{i,n,j}=\sum_{i=0}^{j}P_i(-1)^{j-i}\dbinom{n-i}{j-i}\frac{n!}{i!(n-i)!}\\
根据组合数性质，\dbinom{n-i}{j-i}=\frac{(n-i)!}{(n-j)!(j-i)!}，代入上个式子，有
Q_j=\sum_{i=0}^{j}(-1)^{j-i}P_i\frac{n!}{i!(n-j)!(j-i)!}\\
算法设计：
求解这个问题需要频繁进行从0!到n!的阶乘运算，因此考虑进行预处理，提前计算0到n的阶乘并且存储。\\
之后每次计算Q_j需要计算j+1项，每项的计算复杂度为O(1)，总共需要计算\sum_{j=0}^{n}j+1项。
综上所述，算法复杂度为O(n^2)。
$$

2.多项式曲线转Bezier曲线
$$
公式推导：设Bernstein基函数第j项系数为B_{i,n,j},根据二项式定理，
B_{i,n,j}=\left\{
\begin{array}{}
0 & {j < i}\\
(-1)^{j-i}\frac{n!}{i!(n-j)!(j-i)!}
\end{array} \right.\\
将所有的B_{i,n,j}组成一个矩阵B,使得B[j][i]=B_{i,n,j}，此时B[i][j]代表第j个Bernstein基函数在t^i的系数。\\
显然有B为(n+1)*(n+1)的下三角矩阵，且其对角线元素均不为0，其行列式也不为0，为可逆矩阵。\\
设n+1维向量p_x, p_y的第i维为Bezier曲线第i个控制顶点的x，y坐标，n+1维向量q_x,q_y的第i维为多项式曲线x，y坐标在t^i项的系数。\\
则有Bp_x=q_x，Bp_y=q_y。因为B为可逆矩阵，所以理论上有p_x=B^{-1}q_x，p_y=B^{-1}q_y。\\
算法设计：
实际上，因为B为下三角矩阵，所以没有必要使用矩阵求逆算法，可以使用高斯消元算法来求解，具体步骤如下：\\
对于p向量第i维的求解，首先将前i-1维的解代入，求解其与B矩阵前i-1行的乘积之和，然后根据q向量的值反推p向量第i维的解。\\
这样每一维的求解花费O(n)的时间，求解每个方程组花费O(n^2)的时间，一共两个方程组，算法复杂度为O(n^2)。
$$




实验部分

1.多项式曲线和Bezier曲线互相转换

首先是简单样例测试

| 阶数 | 贝塞尔曲线控制顶点             | 多项式曲线方程         | 是否正确 |
| ---- | ------------------------------ | ---------------------- | -------- |
| 1    | (0, 0), (1, 1)                 | x = t, y = t           |          |
| 1    | (1, 3), (4, 5)                 | x = 3t + 1, y = 2t + 3 |          |
| 2    | (0, 0), (1, 1), (2, 0)         | x = 2t, y = -2t^2 + 2t |          |
| 2    | (1, 2), (3, 4), (5, 6)         | x = 4t + 1, y = 4t + 2 |          |
| 3    | (0, 0), (1, 1), (2, 1), (3, 0) | x = 3t, y = -3t^2 + 3t |          |



